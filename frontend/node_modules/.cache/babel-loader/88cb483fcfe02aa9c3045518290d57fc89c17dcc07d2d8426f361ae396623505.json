{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kmani\\\\Desktop\\\\Emotion-Based Product Recommender System\\\\emotion-recommender-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\n\n// Setup axios with JWT token\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('access_token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nfunction App() {\n  _s();\n  // Auth States\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [authMode, setAuthMode] = useState('login');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [authError, setAuthError] = useState(null);\n  const [authLoading, setAuthLoading] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n\n  // Emotion States\n  const webcamRef = useRef(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [detectedEmotion, setDetectedEmotion] = useState(null);\n  const [emotionConfidence, setEmotionConfidence] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [categories, setCategories] = useState(['All']);\n  const [error, setError] = useState(null);\n  const [emotionHistory, setEmotionHistory] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [showStats, setShowStats] = useState(false);\n  const emotionEmojis = {\n    happy: 'üòä',\n    sad: 'üò¢',\n    angry: 'üò†',\n    neutral: 'üòê',\n    surprise: 'üò≤',\n    fear: 'üò®',\n    disgust: 'ü§¢'\n  };\n\n  // Check if logged in on mount\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      setIsAuthenticated(true);\n      fetchUserProfile();\n      fetchCategories();\n      fetchEmotionHistory();\n      fetchStats();\n    }\n  }, []);\n\n  // ======================== AUTHENTICATION ========================\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    try {\n      setAuthLoading(true);\n      setAuthError(null);\n      const response = await axios.post(`${API_URL}/auth/register`, {\n        email,\n        password,\n        name\n      });\n      alert('Registration successful! Please login.');\n      setAuthMode('login');\n      setEmail('');\n      setPassword('');\n      setName('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setAuthError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Registration failed');\n    } finally {\n      setAuthLoading(false);\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      setAuthLoading(true);\n      setAuthError(null);\n      const response = await axios.post(`${API_URL}/auth/login`, {\n        email,\n        password\n      });\n      localStorage.setItem('access_token', response.data.access_token);\n      setIsAuthenticated(true);\n      setUserInfo(response.data.user);\n      setEmail('');\n      setPassword('');\n      fetchUserProfile();\n      fetchCategories();\n      fetchEmotionHistory();\n      fetchStats();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setAuthError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Login failed');\n    } finally {\n      setAuthLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    setIsAuthenticated(false);\n    setUserInfo(null);\n    setDetectedEmotion(null);\n    setProducts([]);\n    setEmotionHistory([]);\n    setStats(null);\n  };\n\n  // ======================== USER PROFILE ========================\n\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/auth/profile`);\n      setUserInfo(response.data.user);\n    } catch (err) {\n      console.error('Error fetching profile:', err);\n    }\n  };\n\n  // ======================== EMOTION DETECTION ========================\n\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`);\n      setCategories(response.data.categories || ['All']);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n    }\n  };\n  const captureImage = () => {\n    if (!webcamRef.current) {\n      setError('Webcam not ready');\n      return;\n    }\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) {\n      setError('Failed to capture');\n      return;\n    }\n    setCapturedImage(imageSrc);\n    analyzeEmotion(imageSrc);\n  };\n  const analyzeEmotion = async base64Image => {\n    try {\n      setIsAnalyzing(true);\n      setError(null);\n      const response = await axios.post(`${API_URL}/detect-emotion`, {\n        image: base64Image\n      });\n      setDetectedEmotion(response.data.emotion);\n      setEmotionConfidence(response.data.confidence);\n      setProducts(response.data.products || []);\n      setSelectedCategory('All');\n      setIsAnalyzing(false);\n\n      // Refresh history and stats\n      fetchEmotionHistory();\n      fetchStats();\n    } catch (err) {\n      console.error('Error:', err);\n      setError('Failed to analyze emotion');\n      setIsAnalyzing(false);\n    }\n  };\n\n  // ======================== HISTORY & STATS ========================\n\n  const fetchEmotionHistory = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/emotion-history`);\n      setEmotionHistory(response.data.history || []);\n    } catch (err) {\n      console.error('Error:', err);\n    }\n  };\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/stats`);\n      setStats(response.data);\n    } catch (err) {\n      console.error('Error:', err);\n    }\n  };\n\n  // ======================== RENDER LOGIN ========================\n\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-2xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-center mb-2\",\n            children: \"\\uD83C\\uDFAD Emotion Recommender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-600 mb-8\",\n            children: authMode === 'login' ? 'Sign in to your account' : 'Create a new account'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), authError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n            children: authError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: authMode === 'login' ? handleLogin : handleRegister,\n            children: [authMode === 'register' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: name,\n                onChange: e => setName(e.target.value),\n                className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"Your name\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"Email address\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"Password\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: authLoading,\n              className: \"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:from-blue-700 hover:to-purple-700 disabled:opacity-50\",\n              children: authLoading ? 'Loading...' : authMode === 'login' ? 'Sign In' : 'Register'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center mt-6 text-gray-600\",\n            children: [authMode === 'login' ? \"Don't have an account? \" : 'Already have an account? ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setAuthMode(authMode === 'login' ? 'register' : 'login');\n                setAuthError(null);\n              },\n              className: \"text-blue-600 font-bold hover:underline\",\n              children: authMode === 'login' ? 'Register' : 'Sign In'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ======================== RENDER MAIN APP ========================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: \"\\uD83C\\uDFAD Emotion Recommender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Logged in as\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-gray-800\",\n              children: userInfo === null || userInfo === void 0 ? void 0 : userInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStats(!showStats),\n            className: \"px-4 py-2 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700\",\n            children: \"\\uD83D\\uDCCA Stats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-4\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), showStats && stats && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"\\uD83D\\uDCCA Your Statistics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-3 gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Total Detections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-blue-600\",\n              children: stats.total_detections\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Average Confidence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-purple-600\",\n              children: [(stats.average_confidence * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-pink-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Member Since\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-pink-600\",\n              children: new Date(userInfo === null || userInfo === void 0 ? void 0 : userInfo.created_at).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), Object.keys(stats.emotion_counts).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-3\",\n            children: \"Emotion Breakdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3\",\n            children: Object.entries(stats.emotion_counts).map(([emotion, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 px-4 py-2 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: [emotionEmojis[emotion], \" \", emotion]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [count, \" times\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 23\n              }, this)]\n            }, emotion, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold mb-4\",\n              children: \"\\uD83D\\uDCF7 Capture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), !detectedEmotion ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-black rounded-lg overflow-hidden mb-4\",\n                children: /*#__PURE__*/_jsxDEV(Webcam, {\n                  ref: webcamRef,\n                  screenshotFormat: \"image/jpeg\",\n                  className: \"w-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: captureImage,\n                disabled: isAnalyzing,\n                className: \"w-full py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50\",\n                children: isAnalyzing ? '‚è≥ Analyzing...' : 'üéØ Capture & Analyze'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: capturedImage,\n                alt: \"Captured\",\n                className: \"w-full rounded-lg mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mb-4 p-4 bg-blue-50 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-6xl mb-2\",\n                  children: emotionEmojis[detectedEmotion]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold capitalize\",\n                  children: detectedEmotion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-blue-600\",\n                  children: [(emotionConfidence * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setDetectedEmotion(null);\n                  setCapturedImage(null);\n                  setProducts([]);\n                },\n                className: \"w-full py-3 bg-purple-600 text-white rounded-lg font-bold\",\n                children: \"\\uD83D\\uDD04 Detect Again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), emotionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 pt-6 border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-bold mb-3\",\n                children: \"\\uD83D\\uDCDC Recent Detections\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: emotionHistory.slice(0, 5).map((entry, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between p-2 bg-gray-100 rounded text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [emotionEmojis[entry.emotion], \" \", entry.emotion]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold\",\n                    children: [(entry.confidence * 100).toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 25\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold mb-6\",\n              children: \"\\uD83D\\uDECD\\uFE0F Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), detectedEmotion && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 flex flex-wrap gap-2\",\n              children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedCategory(cat),\n                className: `px-4 py-2 rounded font-bold ${selectedCategory === cat ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'}`,\n                children: cat\n              }, cat, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this), products && products.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: products.filter(p => selectedCategory === 'All' || p.category === selectedCategory).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg overflow-hidden shadow hover:shadow-lg transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.image,\n                  alt: product.name,\n                  className: \"w-full h-40 object-cover\",\n                  onError: e => {\n                    e.target.src = 'https://via.placeholder.com/300?text=Product';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold text-gray-800 mb-2 line-clamp-2\",\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl font-bold text-blue-600\",\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded\",\n                      children: product.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700\",\n                    children: \"\\uD83D\\uDED2 Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 25\n                }, this)]\n              }, product.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this) : detectedEmotion ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-8\",\n              children: \"No products found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-8\",\n              children: \"Capture emotion to see products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3mG31/00gLXzQ1TKzBJtdex7XLc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Webcam","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","App","_s","isAuthenticated","setIsAuthenticated","authMode","setAuthMode","email","setEmail","password","setPassword","name","setName","authError","setAuthError","authLoading","setAuthLoading","userInfo","setUserInfo","webcamRef","capturedImage","setCapturedImage","detectedEmotion","setDetectedEmotion","emotionConfidence","setEmotionConfidence","products","setProducts","isAnalyzing","setIsAnalyzing","selectedCategory","setSelectedCategory","categories","setCategories","error","setError","emotionHistory","setEmotionHistory","stats","setStats","showStats","setShowStats","emotionEmojis","happy","sad","angry","neutral","surprise","fear","disgust","fetchUserProfile","fetchCategories","fetchEmotionHistory","fetchStats","handleRegister","e","preventDefault","response","post","alert","err","_err$response","_err$response$data","data","handleLogin","setItem","access_token","user","_err$response2","_err$response2$data","handleLogout","removeItem","get","console","captureImage","current","imageSrc","getScreenshot","analyzeEmotion","base64Image","image","emotion","confidence","history","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","disabled","onClick","total_detections","average_confidence","toFixed","Date","created_at","toLocaleDateString","Object","keys","emotion_counts","length","entries","map","count","ref","screenshotFormat","src","alt","slice","entry","idx","cat","filter","p","category","product","onError","price","id","_c","$RefreshReg$"],"sources":["C:/Users/kmani/Desktop/Emotion-Based Product Recommender System/emotion-recommender-app/frontend/src/App.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\n// Setup axios with JWT token\r\naxios.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('access_token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nfunction App() {\r\n  // Auth States\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [authMode, setAuthMode] = useState('login');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [authError, setAuthError] = useState(null);\r\n  const [authLoading, setAuthLoading] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  // Emotion States\r\n  const webcamRef = useRef(null);\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n  const [detectedEmotion, setDetectedEmotion] = useState(null);\r\n  const [emotionConfidence, setEmotionConfidence] = useState(null);\r\n  const [products, setProducts] = useState([]);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n  const [categories, setCategories] = useState(['All']);\r\n  const [error, setError] = useState(null);\r\n  const [emotionHistory, setEmotionHistory] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [showStats, setShowStats] = useState(false);\r\n\r\n  const emotionEmojis = {\r\n    happy: 'üòä', sad: 'üò¢', angry: 'üò†', neutral: 'üòê',\r\n    surprise: 'üò≤', fear: 'üò®', disgust: 'ü§¢'\r\n  };\r\n\r\n  // Check if logged in on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('access_token');\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n      fetchUserProfile();\r\n      fetchCategories();\r\n      fetchEmotionHistory();\r\n      fetchStats();\r\n    }\r\n  }, []);\r\n\r\n  // ======================== AUTHENTICATION ========================\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setAuthLoading(true);\r\n      setAuthError(null);\r\n      \r\n      const response = await axios.post(`${API_URL}/auth/register`, {\r\n        email,\r\n        password,\r\n        name\r\n      });\r\n      \r\n      alert('Registration successful! Please login.');\r\n      setAuthMode('login');\r\n      setEmail('');\r\n      setPassword('');\r\n      setName('');\r\n    } catch (err) {\r\n      setAuthError(err.response?.data?.error || 'Registration failed');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setAuthLoading(true);\r\n      setAuthError(null);\r\n      \r\n      const response = await axios.post(`${API_URL}/auth/login`, {\r\n        email,\r\n        password\r\n      });\r\n      \r\n      localStorage.setItem('access_token', response.data.access_token);\r\n      setIsAuthenticated(true);\r\n      setUserInfo(response.data.user);\r\n      setEmail('');\r\n      setPassword('');\r\n      fetchUserProfile();\r\n      fetchCategories();\r\n      fetchEmotionHistory();\r\n      fetchStats();\r\n    } catch (err) {\r\n      setAuthError(err.response?.data?.error || 'Login failed');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('access_token');\r\n    setIsAuthenticated(false);\r\n    setUserInfo(null);\r\n    setDetectedEmotion(null);\r\n    setProducts([]);\r\n    setEmotionHistory([]);\r\n    setStats(null);\r\n  };\r\n\r\n  // ======================== USER PROFILE ========================\r\n\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/auth/profile`);\r\n      setUserInfo(response.data.user);\r\n    } catch (err) {\r\n      console.error('Error fetching profile:', err);\r\n    }\r\n  };\r\n\r\n  // ======================== EMOTION DETECTION ========================\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/categories`);\r\n      setCategories(response.data.categories || ['All']);\r\n    } catch (err) {\r\n      console.error('Error fetching categories:', err);\r\n    }\r\n  };\r\n\r\n  const captureImage = () => {\r\n    if (!webcamRef.current) {\r\n      setError('Webcam not ready');\r\n      return;\r\n    }\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    if (!imageSrc) {\r\n      setError('Failed to capture');\r\n      return;\r\n    }\r\n    setCapturedImage(imageSrc);\r\n    analyzeEmotion(imageSrc);\r\n  };\r\n\r\n  const analyzeEmotion = async (base64Image) => {\r\n    try {\r\n      setIsAnalyzing(true);\r\n      setError(null);\r\n      \r\n      const response = await axios.post(`${API_URL}/detect-emotion`, {\r\n        image: base64Image\r\n      });\r\n\r\n      setDetectedEmotion(response.data.emotion);\r\n      setEmotionConfidence(response.data.confidence);\r\n      setProducts(response.data.products || []);\r\n      setSelectedCategory('All');\r\n      setIsAnalyzing(false);\r\n      \r\n      // Refresh history and stats\r\n      fetchEmotionHistory();\r\n      fetchStats();\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setError('Failed to analyze emotion');\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  // ======================== HISTORY & STATS ========================\r\n\r\n  const fetchEmotionHistory = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/emotion-history`);\r\n      setEmotionHistory(response.data.history || []);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/stats`);\r\n      setStats(response.data);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n    }\r\n  };\r\n\r\n  // ======================== RENDER LOGIN ========================\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center\">\r\n        <div className=\"max-w-md w-full\">\r\n          <div className=\"bg-white rounded-lg shadow-2xl p-8\">\r\n            <h1 className=\"text-3xl font-bold text-center mb-2\">üé≠ Emotion Recommender</h1>\r\n            <p className=\"text-center text-gray-600 mb-8\">\r\n              {authMode === 'login' ? 'Sign in to your account' : 'Create a new account'}\r\n            </p>\r\n\r\n            {authError && (\r\n              <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n                {authError}\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={authMode === 'login' ? handleLogin : handleRegister}>\r\n              {authMode === 'register' && (\r\n                <div className=\"mb-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\r\n                    placeholder=\"Your name\"\r\n                    required\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mb-4\">\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\r\n                  placeholder=\"Email address\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-6\">\r\n                <input\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={authLoading}\r\n                className=\"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:from-blue-700 hover:to-purple-700 disabled:opacity-50\"\r\n              >\r\n                {authLoading ? 'Loading...' : authMode === 'login' ? 'Sign In' : 'Register'}\r\n              </button>\r\n            </form>\r\n\r\n            <p className=\"text-center mt-6 text-gray-600\">\r\n              {authMode === 'login' ? \"Don't have an account? \" : 'Already have an account? '}\r\n              <button\r\n                onClick={() => {\r\n                  setAuthMode(authMode === 'login' ? 'register' : 'login');\r\n                  setAuthError(null);\r\n                }}\r\n                className=\"text-blue-600 font-bold hover:underline\"\r\n              >\r\n                {authMode === 'login' ? 'Register' : 'Sign In'}\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ======================== RENDER MAIN APP ========================\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-lg\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\r\n          <h1 className=\"text-2xl font-bold text-blue-600\">üé≠ Emotion Recommender</h1>\r\n          \r\n          <div className=\"flex gap-4 items-center\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm text-gray-600\">Logged in as</p>\r\n              <p className=\"font-bold text-gray-800\">{userInfo?.name}</p>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setShowStats(!showStats)}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700\"\r\n            >\r\n              üìä Stats\r\n            </button>\r\n\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto p-4\">\r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Statistics */}\r\n        {showStats && stats && (\r\n          <div className=\"bg-white rounded-lg shadow-xl p-6 mb-6\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">üìä Your Statistics</h2>\r\n            <div className=\"grid md:grid-cols-3 gap-4 mb-6\">\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <p className=\"text-gray-600\">Total Detections</p>\r\n                <p className=\"text-3xl font-bold text-blue-600\">{stats.total_detections}</p>\r\n              </div>\r\n              <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n                <p className=\"text-gray-600\">Average Confidence</p>\r\n                <p className=\"text-3xl font-bold text-purple-600\">{(stats.average_confidence * 100).toFixed(0)}%</p>\r\n              </div>\r\n              <div className=\"bg-pink-50 p-4 rounded-lg\">\r\n                <p className=\"text-gray-600\">Member Since</p>\r\n                <p className=\"text-lg font-bold text-pink-600\">{new Date(userInfo?.created_at).toLocaleDateString()}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {Object.keys(stats.emotion_counts).length > 0 && (\r\n              <div>\r\n                <h3 className=\"text-xl font-bold mb-3\">Emotion Breakdown</h3>\r\n                <div className=\"flex flex-wrap gap-3\">\r\n                  {Object.entries(stats.emotion_counts).map(([emotion, count]) => (\r\n                    <div key={emotion} className=\"bg-gray-100 px-4 py-2 rounded-lg\">\r\n                      <p className=\"font-bold\">{emotionEmojis[emotion]} {emotion}</p>\r\n                      <p className=\"text-sm text-gray-600\">{count} times</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content */}\r\n        <div className=\"grid md:grid-cols-3 gap-6\">\r\n          {/* Webcam Section */}\r\n          <div className=\"md:col-span-1\">\r\n            <div className=\"bg-white rounded-lg shadow-xl p-6\">\r\n              <h2 className=\"text-2xl font-bold mb-4\">üì∑ Capture</h2>\r\n\r\n              {!detectedEmotion ? (\r\n                <>\r\n                  <div className=\"bg-black rounded-lg overflow-hidden mb-4\">\r\n                    <Webcam ref={webcamRef} screenshotFormat=\"image/jpeg\" className=\"w-full\" />\r\n                  </div>\r\n                  <button\r\n                    onClick={captureImage}\r\n                    disabled={isAnalyzing}\r\n                    className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50\"\r\n                  >\r\n                    {isAnalyzing ? '‚è≥ Analyzing...' : 'üéØ Capture & Analyze'}\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <img src={capturedImage} alt=\"Captured\" className=\"w-full rounded-lg mb-4\" />\r\n                  <div className=\"text-center mb-4 p-4 bg-blue-50 rounded\">\r\n                    <div className=\"text-6xl mb-2\">{emotionEmojis[detectedEmotion]}</div>\r\n                    <p className=\"text-2xl font-bold capitalize\">{detectedEmotion}</p>\r\n                    <p className=\"text-lg text-blue-600\">{(emotionConfidence * 100).toFixed(0)}%</p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => {\r\n                      setDetectedEmotion(null);\r\n                      setCapturedImage(null);\r\n                      setProducts([]);\r\n                    }}\r\n                    className=\"w-full py-3 bg-purple-600 text-white rounded-lg font-bold\"\r\n                  >\r\n                    üîÑ Detect Again\r\n                  </button>\r\n                </>\r\n              )}\r\n\r\n              {emotionHistory.length > 0 && (\r\n                <div className=\"mt-6 pt-6 border-t\">\r\n                  <h3 className=\"text-lg font-bold mb-3\">üìú Recent Detections</h3>\r\n                  <div className=\"space-y-2\">\r\n                    {emotionHistory.slice(0, 5).map((entry, idx) => (\r\n                      <div key={idx} className=\"flex justify-between p-2 bg-gray-100 rounded text-sm\">\r\n                        <span>{emotionEmojis[entry.emotion]} {entry.emotion}</span>\r\n                        <span className=\"font-bold\">{(entry.confidence * 100).toFixed(0)}%</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Products Section */}\r\n          <div className=\"md:col-span-2\">\r\n            <div className=\"bg-white rounded-lg shadow-xl p-6\">\r\n              <h2 className=\"text-3xl font-bold mb-6\">üõçÔ∏è Products</h2>\r\n\r\n              {detectedEmotion && (\r\n                <div className=\"mb-6 flex flex-wrap gap-2\">\r\n                  {categories.map((cat) => (\r\n                    <button\r\n                      key={cat}\r\n                      onClick={() => setSelectedCategory(cat)}\r\n                      className={`px-4 py-2 rounded font-bold ${\r\n                        selectedCategory === cat\r\n                          ? 'bg-blue-600 text-white'\r\n                          : 'bg-gray-200 text-gray-800'\r\n                      }`}\r\n                    >\r\n                      {cat}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {products && products.length > 0 ? (\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                  {products\r\n                    .filter(p => selectedCategory === 'All' || p.category === selectedCategory)\r\n                    .map((product) => (\r\n                      <div key={product.id} className=\"bg-gray-50 rounded-lg overflow-hidden shadow hover:shadow-lg transition\">\r\n                        <img\r\n                          src={product.image}\r\n                          alt={product.name}\r\n                          className=\"w-full h-40 object-cover\"\r\n                          onError={(e) => {\r\n                            e.target.src = 'https://via.placeholder.com/300?text=Product';\r\n                          }}\r\n                        />\r\n                        <div className=\"p-4\">\r\n                          <h3 className=\"font-bold text-gray-800 mb-2 line-clamp-2\">{product.name}</h3>\r\n                          <div className=\"flex justify-between items-center mb-3\">\r\n                            <span className=\"text-2xl font-bold text-blue-600\">${product.price}</span>\r\n                            <span className=\"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded\">\r\n                              {product.category}\r\n                            </span>\r\n                          </div>\r\n                          <button className=\"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700\">\r\n                            üõí Add to Cart\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              ) : detectedEmotion ? (\r\n                <p className=\"text-gray-500 text-center py-8\">No products found</p>\r\n              ) : (\r\n                <p className=\"text-gray-500 text-center py-8\">Capture emotion to see products</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnB,MAAMC,OAAO,GAAG,2BAA2B;;AAE3C;AACAL,KAAK,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAClD,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;AAEF,SAASM,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACsB,QAAQ,EAAEC,WAAW,CAAC,GAAGvB,QAAQ,CAAC,OAAO,CAAC;EACjD,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC8B,SAAS,EAAEC,YAAY,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACA,MAAMoC,SAAS,GAAGrC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACsC,aAAa,EAAEC,gBAAgB,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACuC,eAAe,EAAEC,kBAAkB,CAAC,GAAGxC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACyC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAAC2C,QAAQ,EAAEC,WAAW,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC6C,WAAW,EAAEC,cAAc,CAAC,GAAG9C,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC+C,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhD,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACiD,UAAU,EAAEC,aAAa,CAAC,GAAGlD,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC;EACrD,MAAM,CAACmD,KAAK,EAAEC,QAAQ,CAAC,GAAGpD,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACqD,cAAc,EAAEC,iBAAiB,CAAC,GAAGtD,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACuD,KAAK,EAAEC,QAAQ,CAAC,GAAGxD,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACyD,SAAS,EAAEC,YAAY,CAAC,GAAG1D,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM2D,aAAa,GAAG;IACpBC,KAAK,EAAE,IAAI;IAAEC,GAAG,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,OAAO,EAAE,IAAI;IAClDC,QAAQ,EAAE,IAAI;IAAEC,IAAI,EAAE,IAAI;IAAEC,OAAO,EAAE;EACvC,CAAC;;EAED;EACAjE,SAAS,CAAC,MAAM;IACd,MAAMY,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClD,IAAIF,KAAK,EAAE;MACTQ,kBAAkB,CAAC,IAAI,CAAC;MACxB8C,gBAAgB,CAAC,CAAC;MAClBC,eAAe,CAAC,CAAC;MACjBC,mBAAmB,CAAC,CAAC;MACrBC,UAAU,CAAC,CAAC;IACd;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEA,MAAMC,cAAc,GAAG,MAAOC,CAAC,IAAK;IAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACFxC,cAAc,CAAC,IAAI,CAAC;MACpBF,YAAY,CAAC,IAAI,CAAC;MAElB,MAAM2C,QAAQ,GAAG,MAAMvE,KAAK,CAACwE,IAAI,CAAC,GAAGnE,OAAO,gBAAgB,EAAE;QAC5DgB,KAAK;QACLE,QAAQ;QACRE;MACF,CAAC,CAAC;MAEFgD,KAAK,CAAC,wCAAwC,CAAC;MAC/CrD,WAAW,CAAC,OAAO,CAAC;MACpBE,QAAQ,CAAC,EAAE,CAAC;MACZE,WAAW,CAAC,EAAE,CAAC;MACfE,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,CAAC,OAAOgD,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZhD,YAAY,CAAC,EAAA+C,aAAA,GAAAD,GAAG,CAACH,QAAQ,cAAAI,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcE,IAAI,cAAAD,kBAAA,uBAAlBA,kBAAA,CAAoB5B,KAAK,KAAI,qBAAqB,CAAC;IAClE,CAAC,SAAS;MACRlB,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMgD,WAAW,GAAG,MAAOT,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACFxC,cAAc,CAAC,IAAI,CAAC;MACpBF,YAAY,CAAC,IAAI,CAAC;MAElB,MAAM2C,QAAQ,GAAG,MAAMvE,KAAK,CAACwE,IAAI,CAAC,GAAGnE,OAAO,aAAa,EAAE;QACzDgB,KAAK;QACLE;MACF,CAAC,CAAC;MAEFZ,YAAY,CAACoE,OAAO,CAAC,cAAc,EAAER,QAAQ,CAACM,IAAI,CAACG,YAAY,CAAC;MAChE9D,kBAAkB,CAAC,IAAI,CAAC;MACxBc,WAAW,CAACuC,QAAQ,CAACM,IAAI,CAACI,IAAI,CAAC;MAC/B3D,QAAQ,CAAC,EAAE,CAAC;MACZE,WAAW,CAAC,EAAE,CAAC;MACfwC,gBAAgB,CAAC,CAAC;MAClBC,eAAe,CAAC,CAAC;MACjBC,mBAAmB,CAAC,CAAC;MACrBC,UAAU,CAAC,CAAC;IACd,CAAC,CAAC,OAAOO,GAAG,EAAE;MAAA,IAAAQ,cAAA,EAAAC,mBAAA;MACZvD,YAAY,CAAC,EAAAsD,cAAA,GAAAR,GAAG,CAACH,QAAQ,cAAAW,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcL,IAAI,cAAAM,mBAAA,uBAAlBA,mBAAA,CAAoBnC,KAAK,KAAI,cAAc,CAAC;IAC3D,CAAC,SAAS;MACRlB,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMsD,YAAY,GAAGA,CAAA,KAAM;IACzBzE,YAAY,CAAC0E,UAAU,CAAC,cAAc,CAAC;IACvCnE,kBAAkB,CAAC,KAAK,CAAC;IACzBc,WAAW,CAAC,IAAI,CAAC;IACjBK,kBAAkB,CAAC,IAAI,CAAC;IACxBI,WAAW,CAAC,EAAE,CAAC;IACfU,iBAAiB,CAAC,EAAE,CAAC;IACrBE,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;;EAED;;EAEA,MAAMW,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAMvE,KAAK,CAACsF,GAAG,CAAC,GAAGjF,OAAO,eAAe,CAAC;MAC3D2B,WAAW,CAACuC,QAAQ,CAACM,IAAI,CAACI,IAAI,CAAC;IACjC,CAAC,CAAC,OAAOP,GAAG,EAAE;MACZa,OAAO,CAACvC,KAAK,CAAC,yBAAyB,EAAE0B,GAAG,CAAC;IAC/C;EACF,CAAC;;EAED;;EAEA,MAAMT,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMvE,KAAK,CAACsF,GAAG,CAAC,GAAGjF,OAAO,aAAa,CAAC;MACzD0C,aAAa,CAACwB,QAAQ,CAACM,IAAI,CAAC/B,UAAU,IAAI,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC,CAAC,OAAO4B,GAAG,EAAE;MACZa,OAAO,CAACvC,KAAK,CAAC,4BAA4B,EAAE0B,GAAG,CAAC;IAClD;EACF,CAAC;EAED,MAAMc,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACvD,SAAS,CAACwD,OAAO,EAAE;MACtBxC,QAAQ,CAAC,kBAAkB,CAAC;MAC5B;IACF;IACA,MAAMyC,QAAQ,GAAGzD,SAAS,CAACwD,OAAO,CAACE,aAAa,CAAC,CAAC;IAClD,IAAI,CAACD,QAAQ,EAAE;MACbzC,QAAQ,CAAC,mBAAmB,CAAC;MAC7B;IACF;IACAd,gBAAgB,CAACuD,QAAQ,CAAC;IAC1BE,cAAc,CAACF,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAME,cAAc,GAAG,MAAOC,WAAW,IAAK;IAC5C,IAAI;MACFlD,cAAc,CAAC,IAAI,CAAC;MACpBM,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMsB,QAAQ,GAAG,MAAMvE,KAAK,CAACwE,IAAI,CAAC,GAAGnE,OAAO,iBAAiB,EAAE;QAC7DyF,KAAK,EAAED;MACT,CAAC,CAAC;MAEFxD,kBAAkB,CAACkC,QAAQ,CAACM,IAAI,CAACkB,OAAO,CAAC;MACzCxD,oBAAoB,CAACgC,QAAQ,CAACM,IAAI,CAACmB,UAAU,CAAC;MAC9CvD,WAAW,CAAC8B,QAAQ,CAACM,IAAI,CAACrC,QAAQ,IAAI,EAAE,CAAC;MACzCK,mBAAmB,CAAC,KAAK,CAAC;MAC1BF,cAAc,CAAC,KAAK,CAAC;;MAErB;MACAuB,mBAAmB,CAAC,CAAC;MACrBC,UAAU,CAAC,CAAC;IACd,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZa,OAAO,CAACvC,KAAK,CAAC,QAAQ,EAAE0B,GAAG,CAAC;MAC5BzB,QAAQ,CAAC,2BAA2B,CAAC;MACrCN,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;;EAED;;EAEA,MAAMuB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMvE,KAAK,CAACsF,GAAG,CAAC,GAAGjF,OAAO,kBAAkB,CAAC;MAC9D8C,iBAAiB,CAACoB,QAAQ,CAACM,IAAI,CAACoB,OAAO,IAAI,EAAE,CAAC;IAChD,CAAC,CAAC,OAAOvB,GAAG,EAAE;MACZa,OAAO,CAACvC,KAAK,CAAC,QAAQ,EAAE0B,GAAG,CAAC;IAC9B;EACF,CAAC;EAED,MAAMP,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMvE,KAAK,CAACsF,GAAG,CAAC,GAAGjF,OAAO,QAAQ,CAAC;MACpDgD,QAAQ,CAACkB,QAAQ,CAACM,IAAI,CAAC;IACzB,CAAC,CAAC,OAAOH,GAAG,EAAE;MACZa,OAAO,CAACvC,KAAK,CAAC,QAAQ,EAAE0B,GAAG,CAAC;IAC9B;EACF,CAAC;;EAED;;EAEA,IAAI,CAACzD,eAAe,EAAE;IACpB,oBACEf,OAAA;MAAKgG,SAAS,EAAC,8GAA8G;MAAAC,QAAA,eAC3HjG,OAAA;QAAKgG,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BjG,OAAA;UAAKgG,SAAS,EAAC,oCAAoC;UAAAC,QAAA,gBACjDjG,OAAA;YAAIgG,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/ErG,OAAA;YAAGgG,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAC1ChF,QAAQ,KAAK,OAAO,GAAG,yBAAyB,GAAG;UAAsB;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzE,CAAC,EAEH5E,SAAS,iBACRzB,OAAA;YAAKgG,SAAS,EAAC,sEAAsE;YAAAC,QAAA,EAClFxE;UAAS;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CACN,eAEDrG,OAAA;YAAMsG,QAAQ,EAAErF,QAAQ,KAAK,OAAO,GAAG2D,WAAW,GAAGV,cAAe;YAAA+B,QAAA,GACjEhF,QAAQ,KAAK,UAAU,iBACtBjB,OAAA;cAAKgG,SAAS,EAAC,MAAM;cAAAC,QAAA,eACnBjG,OAAA;gBACEuG,IAAI,EAAC,MAAM;gBACXC,KAAK,EAAEjF,IAAK;gBACZkF,QAAQ,EAAGtC,CAAC,IAAK3C,OAAO,CAAC2C,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE;gBACzCR,SAAS,EAAC,6FAA6F;gBACvGW,WAAW,EAAC,WAAW;gBACvBC,QAAQ;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN,eAEDrG,OAAA;cAAKgG,SAAS,EAAC,MAAM;cAAAC,QAAA,eACnBjG,OAAA;gBACEuG,IAAI,EAAC,OAAO;gBACZC,KAAK,EAAErF,KAAM;gBACbsF,QAAQ,EAAGtC,CAAC,IAAK/C,QAAQ,CAAC+C,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE;gBAC1CR,SAAS,EAAC,6FAA6F;gBACvGW,WAAW,EAAC,eAAe;gBAC3BC,QAAQ;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENrG,OAAA;cAAKgG,SAAS,EAAC,MAAM;cAAAC,QAAA,eACnBjG,OAAA;gBACEuG,IAAI,EAAC,UAAU;gBACfC,KAAK,EAAEnF,QAAS;gBAChBoF,QAAQ,EAAGtC,CAAC,IAAK7C,WAAW,CAAC6C,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE;gBAC7CR,SAAS,EAAC,6FAA6F;gBACvGW,WAAW,EAAC,UAAU;gBACtBC,QAAQ;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENrG,OAAA;cACEuG,IAAI,EAAC,QAAQ;cACbM,QAAQ,EAAElF,WAAY;cACtBqE,SAAS,EAAC,sJAAsJ;cAAAC,QAAA,EAE/JtE,WAAW,GAAG,YAAY,GAAGV,QAAQ,KAAK,OAAO,GAAG,SAAS,GAAG;YAAU;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEPrG,OAAA;YAAGgG,SAAS,EAAC,gCAAgC;YAAAC,QAAA,GAC1ChF,QAAQ,KAAK,OAAO,GAAG,yBAAyB,GAAG,2BAA2B,eAC/EjB,OAAA;cACE8G,OAAO,EAAEA,CAAA,KAAM;gBACb5F,WAAW,CAACD,QAAQ,KAAK,OAAO,GAAG,UAAU,GAAG,OAAO,CAAC;gBACxDS,YAAY,CAAC,IAAI,CAAC;cACpB,CAAE;cACFsE,SAAS,EAAC,yCAAyC;cAAAC,QAAA,EAElDhF,QAAQ,KAAK,OAAO,GAAG,UAAU,GAAG;YAAS;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;;EAEA,oBACErG,OAAA;IAAKgG,SAAS,EAAC,yEAAyE;IAAAC,QAAA,gBAEtFjG,OAAA;MAAKgG,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eACjCjG,OAAA;QAAKgG,SAAS,EAAC,+DAA+D;QAAAC,QAAA,gBAC5EjG,OAAA;UAAIgG,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE5ErG,OAAA;UAAKgG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtCjG,OAAA;YAAKgG,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BjG,OAAA;cAAGgG,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACrDrG,OAAA;cAAGgG,SAAS,EAAC,yBAAyB;cAAAC,QAAA,EAAEpE,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEN;YAAI;cAAA2E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eAENrG,OAAA;YACE8G,OAAO,EAAEA,CAAA,KAAMzD,YAAY,CAAC,CAACD,SAAS,CAAE;YACxC4C,SAAS,EAAC,2EAA2E;YAAAC,QAAA,EACtF;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETrG,OAAA;YACE8G,OAAO,EAAE5B,YAAa;YACtBc,SAAS,EAAC,uEAAuE;YAAAC,QAAA,EAClF;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrG,OAAA;MAAKgG,SAAS,EAAC,uBAAuB;MAAAC,QAAA,GACnCnD,KAAK,iBACJ9C,OAAA;QAAKgG,SAAS,EAAC,sEAAsE;QAAAC,QAAA,EAClFnD;MAAK;QAAAoD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGAjD,SAAS,IAAIF,KAAK,iBACjBlD,OAAA;QAAKgG,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDjG,OAAA;UAAIgG,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/DrG,OAAA;UAAKgG,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CjG,OAAA;YAAKgG,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCjG,OAAA;cAAGgG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACjDrG,OAAA;cAAGgG,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAE/C,KAAK,CAAC6D;YAAgB;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzE,CAAC,eACNrG,OAAA;YAAKgG,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1CjG,OAAA;cAAGgG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACnDrG,OAAA;cAAGgG,SAAS,EAAC,oCAAoC;cAAAC,QAAA,GAAE,CAAC/C,KAAK,CAAC8D,kBAAkB,GAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,EAAC,GAAC;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjG,CAAC,eACNrG,OAAA;YAAKgG,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCjG,OAAA;cAAGgG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAC7CrG,OAAA;cAAGgG,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAE,IAAIiB,IAAI,CAACrF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEsF,UAAU,CAAC,CAACC,kBAAkB,CAAC;YAAC;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAELgB,MAAM,CAACC,IAAI,CAACpE,KAAK,CAACqE,cAAc,CAAC,CAACC,MAAM,GAAG,CAAC,iBAC3CxH,OAAA;UAAAiG,QAAA,gBACEjG,OAAA;YAAIgG,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7DrG,OAAA;YAAKgG,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAClCoB,MAAM,CAACI,OAAO,CAACvE,KAAK,CAACqE,cAAc,CAAC,CAACG,GAAG,CAAC,CAAC,CAAC7B,OAAO,EAAE8B,KAAK,CAAC,kBACzD3H,OAAA;cAAmBgG,SAAS,EAAC,kCAAkC;cAAAC,QAAA,gBAC7DjG,OAAA;gBAAGgG,SAAS,EAAC,WAAW;gBAAAC,QAAA,GAAE3C,aAAa,CAACuC,OAAO,CAAC,EAAC,GAAC,EAACA,OAAO;cAAA;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/DrG,OAAA;gBAAGgG,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAE0B,KAAK,EAAC,QAAM;cAAA;gBAAAzB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA,GAF9CR,OAAO;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGZ,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,eAGDrG,OAAA;QAAKgG,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAExCjG,OAAA;UAAKgG,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjG,OAAA;YAAKgG,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChDjG,OAAA;cAAIgG,SAAS,EAAC,yBAAyB;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEtD,CAACnE,eAAe,gBACflC,OAAA,CAAAE,SAAA;cAAA+F,QAAA,gBACEjG,OAAA;gBAAKgG,SAAS,EAAC,0CAA0C;gBAAAC,QAAA,eACvDjG,OAAA,CAACH,MAAM;kBAAC+H,GAAG,EAAE7F,SAAU;kBAAC8F,gBAAgB,EAAC,YAAY;kBAAC7B,SAAS,EAAC;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxE,CAAC,eACNrG,OAAA;gBACE8G,OAAO,EAAExB,YAAa;gBACtBuB,QAAQ,EAAErE,WAAY;gBACtBwD,SAAS,EAAC,+FAA+F;gBAAAC,QAAA,EAExGzD,WAAW,GAAG,gBAAgB,GAAG;cAAsB;gBAAA0D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC;YAAA,eACT,CAAC,gBAEHrG,OAAA,CAAAE,SAAA;cAAA+F,QAAA,gBACEjG,OAAA;gBAAK8H,GAAG,EAAE9F,aAAc;gBAAC+F,GAAG,EAAC,UAAU;gBAAC/B,SAAS,EAAC;cAAwB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC7ErG,OAAA;gBAAKgG,SAAS,EAAC,yCAAyC;gBAAAC,QAAA,gBACtDjG,OAAA;kBAAKgG,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAE3C,aAAa,CAACpB,eAAe;gBAAC;kBAAAgE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACrErG,OAAA;kBAAGgG,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAE/D;gBAAe;kBAAAgE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClErG,OAAA;kBAAGgG,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,GAAE,CAAC7D,iBAAiB,GAAG,GAAG,EAAE6E,OAAO,CAAC,CAAC,CAAC,EAAC,GAAC;gBAAA;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7E,CAAC,eACNrG,OAAA;gBACE8G,OAAO,EAAEA,CAAA,KAAM;kBACb3E,kBAAkB,CAAC,IAAI,CAAC;kBACxBF,gBAAgB,CAAC,IAAI,CAAC;kBACtBM,WAAW,CAAC,EAAE,CAAC;gBACjB,CAAE;gBACFyD,SAAS,EAAC,2DAA2D;gBAAAC,QAAA,EACtE;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eACT,CACH,EAEArD,cAAc,CAACwE,MAAM,GAAG,CAAC,iBACxBxH,OAAA;cAAKgG,SAAS,EAAC,oBAAoB;cAAAC,QAAA,gBACjCjG,OAAA;gBAAIgG,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EAAC;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChErG,OAAA;gBAAKgG,SAAS,EAAC,WAAW;gBAAAC,QAAA,EACvBjD,cAAc,CAACgF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACN,GAAG,CAAC,CAACO,KAAK,EAAEC,GAAG,kBACzClI,OAAA;kBAAegG,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,gBAC7EjG,OAAA;oBAAAiG,QAAA,GAAO3C,aAAa,CAAC2E,KAAK,CAACpC,OAAO,CAAC,EAAC,GAAC,EAACoC,KAAK,CAACpC,OAAO;kBAAA;oBAAAK,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC3DrG,OAAA;oBAAMgG,SAAS,EAAC,WAAW;oBAAAC,QAAA,GAAE,CAACgC,KAAK,CAACnC,UAAU,GAAG,GAAG,EAAEmB,OAAO,CAAC,CAAC,CAAC,EAAC,GAAC;kBAAA;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA,GAFjE6B,GAAG;kBAAAhC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAGR,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNrG,OAAA;UAAKgG,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjG,OAAA;YAAKgG,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChDjG,OAAA;cAAIgG,SAAS,EAAC,yBAAyB;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAExDnE,eAAe,iBACdlC,OAAA;cAAKgG,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EACvCrD,UAAU,CAAC8E,GAAG,CAAES,GAAG,iBAClBnI,OAAA;gBAEE8G,OAAO,EAAEA,CAAA,KAAMnE,mBAAmB,CAACwF,GAAG,CAAE;gBACxCnC,SAAS,EAAE,+BACTtD,gBAAgB,KAAKyF,GAAG,GACpB,wBAAwB,GACxB,2BAA2B,EAC9B;gBAAAlC,QAAA,EAEFkC;cAAG,GARCA,GAAG;gBAAAjC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OASF,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN,EAEA/D,QAAQ,IAAIA,QAAQ,CAACkF,MAAM,GAAG,CAAC,gBAC9BxH,OAAA;cAAKgG,SAAS,EAAC,2BAA2B;cAAAC,QAAA,EACvC3D,QAAQ,CACN8F,MAAM,CAACC,CAAC,IAAI3F,gBAAgB,KAAK,KAAK,IAAI2F,CAAC,CAACC,QAAQ,KAAK5F,gBAAgB,CAAC,CAC1EgF,GAAG,CAAEa,OAAO,iBACXvI,OAAA;gBAAsBgG,SAAS,EAAC,yEAAyE;gBAAAC,QAAA,gBACvGjG,OAAA;kBACE8H,GAAG,EAAES,OAAO,CAAC3C,KAAM;kBACnBmC,GAAG,EAAEQ,OAAO,CAAChH,IAAK;kBAClByE,SAAS,EAAC,0BAA0B;kBACpCwC,OAAO,EAAGrE,CAAC,IAAK;oBACdA,CAAC,CAACuC,MAAM,CAACoB,GAAG,GAAG,8CAA8C;kBAC/D;gBAAE;kBAAA5B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACFrG,OAAA;kBAAKgG,SAAS,EAAC,KAAK;kBAAAC,QAAA,gBAClBjG,OAAA;oBAAIgG,SAAS,EAAC,2CAA2C;oBAAAC,QAAA,EAAEsC,OAAO,CAAChH;kBAAI;oBAAA2E,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC7ErG,OAAA;oBAAKgG,SAAS,EAAC,wCAAwC;oBAAAC,QAAA,gBACrDjG,OAAA;sBAAMgG,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,GAAC,GAAC,EAACsC,OAAO,CAACE,KAAK;oBAAA;sBAAAvC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAC1ErG,OAAA;sBAAMgG,SAAS,EAAC,yDAAyD;sBAAAC,QAAA,EACtEsC,OAAO,CAACD;oBAAQ;sBAAApC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACb,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACNrG,OAAA;oBAAQgG,SAAS,EAAC,wEAAwE;oBAAAC,QAAA,EAAC;kBAE3F;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA,GApBEkC,OAAO,CAACG,EAAE;gBAAAxC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAqBf,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,GACJnE,eAAe,gBACjBlC,OAAA;cAAGgG,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,gBAEnErG,OAAA;cAAGgG,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAA+B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CACjF;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvF,EAAA,CA7cQD,GAAG;AAAA8H,EAAA,GAAH9H,GAAG;AA+cZ,eAAeA,GAAG;AAAC,IAAA8H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}