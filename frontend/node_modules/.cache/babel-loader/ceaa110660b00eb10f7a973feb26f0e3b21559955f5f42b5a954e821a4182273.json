{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kmani\\\\Desktop\\\\Emotion-Based Product Recommender System\\\\emotion-recommender-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  // Auth states\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [authMode, setAuthMode] = useState('login'); // login or register\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [authError, setAuthError] = useState(null);\n  const [authLoading, setAuthLoading] = useState(false);\n\n  // Webcam states\n  const webcamRef = useRef(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [detectedEmotion, setDetectedEmotion] = useState(null);\n  const [emotionConfidence, setEmotionConfidence] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [categories, setCategories] = useState(['All']);\n  const [emotionHistory, setEmotionHistory] = useState([]);\n  const [error, setError] = useState(null);\n  const [userId] = useState('user_' + Math.random().toString(36).substr(2, 9));\n\n  // Pagination states\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [productsPerPage] = useState(12);\n\n  // Stats states\n  const [emotionStats, setEmotionStats] = useState([]);\n  const [showStats, setShowStats] = useState(false);\n  const emotionEmojis = {\n    happy: 'ðŸ˜Š',\n    sad: 'ðŸ˜¢',\n    angry: 'ðŸ˜ ',\n    neutral: 'ðŸ˜',\n    surprise: 'ðŸ˜²',\n    fear: 'ðŸ˜¨',\n    disgust: 'ðŸ¤¢'\n  };\n\n  // Check if user is logged in on mount\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      setIsAuthenticated(true);\n      fetchCategories();\n      fetchEmotionStats();\n    }\n  }, []);\n\n  // ======================== AUTHENTICATION ========================\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    try {\n      setAuthLoading(true);\n      setAuthError(null);\n      const response = await axios.post(`${API_URL}/auth/register`, {\n        email,\n        password,\n        name\n      });\n      setAuthError(null);\n      alert('Registration successful! Please login.');\n      setAuthMode('login');\n      setEmail('');\n      setPassword('');\n      setName('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setAuthError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Registration failed');\n    } finally {\n      setAuthLoading(false);\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      setAuthLoading(true);\n      setAuthError(null);\n      const response = await axios.post(`${API_URL}/auth/login`, {\n        email,\n        password\n      });\n      localStorage.setItem('access_token', response.data.access_token);\n      setIsAuthenticated(true);\n      setEmail('');\n      setPassword('');\n      fetchCategories();\n      fetchEmotionStats();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setAuthError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Login failed');\n    } finally {\n      setAuthLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    setIsAuthenticated(false);\n    setDetectedEmotion(null);\n    setProducts([]);\n    setEmotionHistory([]);\n  };\n\n  // ======================== API CALLS ========================\n\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`);\n      setCategories(response.data.categories);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n    }\n  };\n  const fetchEmotionStats = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      const response = await axios.get(`${API_URL}/emotion-stats`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setEmotionStats(response.data.stats);\n    } catch (err) {\n      console.error('Error fetching stats:', err);\n    }\n  };\n  const captureImage = () => {\n    if (!webcamRef.current) {\n      setError('Webcam not ready. Please allow camera access.');\n      return;\n    }\n    try {\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (!imageSrc) {\n        setError('Failed to capture image. Please try again.');\n        return;\n      }\n      setCapturedImage(imageSrc);\n      analyzeEmotion(imageSrc);\n    } catch (err) {\n      setError('Error capturing image: ' + err.message);\n    }\n  };\n  const analyzeEmotion = async base64Image => {\n    try {\n      setIsAnalyzing(true);\n      setError(null);\n      const token = localStorage.getItem('access_token');\n      const response = await axios.post(`${API_URL}/detect-emotion`, {\n        image: base64Image\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = response.data;\n      setDetectedEmotion(data.emotion);\n      setEmotionConfidence(data.confidence);\n      let filteredByCategory = data.products;\n      if (selectedCategory !== 'All') {\n        filteredByCategory = data.products.filter(p => p.category === selectedCategory);\n      }\n      setProducts(filteredByCategory);\n      setCurrentPage(1);\n      setEmotionHistory([{\n        emotion: data.emotion,\n        timestamp: new Date().toLocaleTimeString(),\n        confidence: data.confidence\n      }, ...emotionHistory].slice(0, 5));\n      fetchEmotionStats();\n      setIsAnalyzing(false);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Error analyzing emotion:', err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'Failed to analyze emotion.');\n      setIsAnalyzing(false);\n    }\n  };\n  const handleDetectAgain = () => {\n    setDetectedEmotion(null);\n    setEmotionConfidence(null);\n    setCapturedImage(null);\n    setProducts([]);\n    setError(null);\n    setSelectedCategory('All');\n    setCurrentPage(1);\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n    setCurrentPage(1);\n    if (detectedEmotion && products.length > 0) {\n      const filtered = products.filter(p => category === 'All' || p.category === category);\n      setProducts(filtered);\n    }\n  };\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    window.scrollTo(0, 0);\n  };\n\n  // ======================== RENDER ========================\n\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 md:p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-2xl p-8 fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-center mb-2 text-gray-800\",\n            children: \"\\uD83C\\uDFAD Emotion Recommender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-600 mb-8\",\n            children: authMode === 'login' ? 'Sign in to your account' : 'Create a new account'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), authError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n            children: authError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: authMode === 'login' ? handleLogin : handleRegister,\n            children: [authMode === 'register' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 font-semibold mb-2\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: name,\n                onChange: e => setName(e.target.value),\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"Your name\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 font-semibold mb-2\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"your@email.com\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 font-semibold mb-2\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\",\n                placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: authLoading,\n              className: \"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50\",\n              children: authLoading ? 'Loading...' : authMode === 'login' ? 'Sign In' : 'Register'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center mt-4 text-gray-600\",\n            children: [authMode === 'login' ? \"Don't have an account?\" : 'Already have an account?', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAuthMode(authMode === 'login' ? 'register' : 'login'),\n              className: \"ml-2 text-blue-600 font-semibold hover:underline\",\n              children: authMode === 'login' ? 'Register' : 'Sign In'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 md:p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8 md:mb-12 fade-in flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl md:text-5xl font-bold text-white mb-2\",\n            children: \"\\uD83C\\uDFAD Emotion-Based Product Recommender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg md:text-xl text-white opacity-90\",\n            children: \"Discover products that match your current emotion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStats(!showStats),\n            className: \"px-4 py-2 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition\",\n            children: \"\\uD83D\\uDCCA Stats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"block px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-4 rounded-lg fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), \" \", error, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"float-right font-bold text-xl hover:text-red-900\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), showStats && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto mb-6 bg-white rounded-lg shadow-xl p-6 fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold mb-4 text-gray-800\",\n          children: \"\\uD83D\\uDCCA Your Emotion Stats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), emotionStats.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: emotionStats.map((stat, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-gray-800 capitalize\",\n                  children: [emotionEmojis[stat._id], \" \", stat._id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"Detected \", stat.count, \" times\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-blue-600\",\n                children: [(stat.avg_confidence * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 21\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No emotion history yet. Start by analyzing your emotion!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-3 gap-6 md:gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl p-6 fade-in\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold mb-4 text-gray-800\",\n              children: \"\\uD83D\\uDCF7 Capture Your Emotion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), !detectedEmotion ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative bg-black rounded-lg overflow-hidden mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Webcam, {\n                  ref: webcamRef,\n                  screenshotFormat: \"image/jpeg\",\n                  className: \"w-full\",\n                  videoConstraints: {\n                    width: {\n                      ideal: 640\n                    },\n                    height: {\n                      ideal: 480\n                    },\n                    facingMode: 'user'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute bottom-2 right-2 text-white text-xs bg-black bg-opacity-50 px-2 py-1 rounded\",\n                  children: \"\\uD83D\\uDCF8 Live Preview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: captureImage,\n                disabled: isAnalyzing,\n                className: `w-full py-3 rounded-lg font-bold text-white text-lg transition ${isAnalyzing ? 'bg-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg'}`,\n                children: isAnalyzing ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex justify-center items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner mr-2\",\n                    style: {\n                      width: '20px',\n                      height: '20px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this), \"Analyzing...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this) : 'ðŸŽ¯ Capture & Analyze Emotion'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-sm text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold mb-1\",\n                  children: \"\\uD83D\\uDCA1 Tips:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"text-xs space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Ensure good lighting\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Face the camera directly\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Clear facial expression\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative bg-gray-100 rounded-lg overflow-hidden mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: capturedImage,\n                  alt: \"Captured\",\n                  className: \"w-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-7xl mb-2 animate-bounce\",\n                  children: emotionEmojis[detectedEmotion] || 'ðŸ˜'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-3xl font-bold text-gray-800 capitalize mb-2\",\n                  children: detectedEmotion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-center items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full bg-gray-200 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500\",\n                      style: {\n                        width: `${emotionConfidence * 100}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-bold text-gray-700 w-12\",\n                    children: [(emotionConfidence * 100).toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleDetectAgain,\n                className: \"w-full py-3 rounded-lg font-bold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition shadow-lg\",\n                children: \"\\uD83D\\uDD04 Detect Again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), emotionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-6 mt-6 border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-800 mb-4\",\n                children: \"\\uD83D\\uDCCA Recent Emotions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: emotionHistory.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center p-2 bg-gray-50 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl\",\n                      children: emotionEmojis[item.emotion]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 font-semibold text-gray-800 capitalize\",\n                      children: item.emotion\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: item.timestamp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-blue-600\",\n                      children: [(item.confidence * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl p-6 fade-in\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold mb-6 text-gray-800\",\n              children: \"\\uD83D\\uDECD\\uFE0F Recommended Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this), detectedEmotion && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-bold text-gray-700 mb-3\",\n                children: \"\\uD83C\\uDFF7\\uFE0F Filter by Category:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleCategoryChange(category),\n                  className: `px-4 py-2 rounded-full font-semibold transition ${selectedCategory === category ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg' : 'bg-white text-gray-800 border border-gray-300 hover:border-blue-500'}`,\n                  children: category\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), products.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n                children: products.map((product, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-card bg-gray-50 rounded-lg overflow-hidden shadow hover:shadow-lg transition fade-in\",\n                  style: {\n                    animationDelay: `${idx * 50}ms`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative h-48 bg-gray-200 overflow-hidden\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: product.image,\n                      alt: product.name,\n                      className: \"w-full h-full object-cover hover:scale-110 transition-transform duration-300\",\n                      onError: e => {\n                        e.target.src = 'https://via.placeholder.com/400x300?text=Product+Image';\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 544,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-bold text-gray-800 mb-2 line-clamp-2\",\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start gap-2 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-2xl font-bold text-blue-600\",\n                        children: product.price\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 558,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full whitespace-nowrap\",\n                        children: product.category\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 559,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"w-full py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-purple-600 transition\",\n                      children: \"Add to Cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 25\n                  }, this)]\n                }, product.id || idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center items-center gap-2 mt-8\",\n                children: [...Array(totalPages)].map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePageChange(idx + 1),\n                  className: `px-3 py-2 rounded font-semibold transition ${currentPage === idx + 1 ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`,\n                  children: idx + 1\n                }, idx + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : detectedEmotion ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl text-gray-400\",\n                children: \"\\uD83D\\uDE05\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-lg\",\n                children: \"No products found for the selected category. Try another category.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-16\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-4xl mb-4\",\n                children: \"\\uD83D\\uDC48\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-lg font-semibold\",\n                children: \"Capture your emotion to see personalized recommendations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"vnggnaL5Fa+TbU7YyWH3L8rgqu4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Webcam","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","App","_s","isAuthenticated","setIsAuthenticated","authMode","setAuthMode","email","setEmail","password","setPassword","name","setName","authError","setAuthError","authLoading","setAuthLoading","webcamRef","capturedImage","setCapturedImage","detectedEmotion","setDetectedEmotion","emotionConfidence","setEmotionConfidence","products","setProducts","isAnalyzing","setIsAnalyzing","selectedCategory","setSelectedCategory","categories","setCategories","emotionHistory","setEmotionHistory","error","setError","userId","Math","random","toString","substr","currentPage","setCurrentPage","totalPages","setTotalPages","productsPerPage","emotionStats","setEmotionStats","showStats","setShowStats","emotionEmojis","happy","sad","angry","neutral","surprise","fear","disgust","token","localStorage","getItem","fetchCategories","fetchEmotionStats","handleRegister","e","preventDefault","response","post","alert","err","_err$response","_err$response$data","data","handleLogin","setItem","access_token","_err$response2","_err$response2$data","handleLogout","removeItem","get","console","headers","Authorization","stats","captureImage","current","imageSrc","getScreenshot","analyzeEmotion","message","base64Image","image","emotion","confidence","filteredByCategory","filter","p","category","timestamp","Date","toLocaleTimeString","slice","_err$response3","_err$response3$data","handleDetectAgain","handleCategoryChange","length","filtered","handlePageChange","page","window","scrollTo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","disabled","onClick","map","stat","idx","_id","count","avg_confidence","toFixed","ref","screenshotFormat","videoConstraints","width","ideal","height","facingMode","style","src","alt","item","product","animationDelay","onError","price","id","Array","_","_c","$RefreshReg$"],"sources":["C:/Users/kmani/Desktop/Emotion-Based Product Recommender System/emotion-recommender-app/frontend/src/App.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nfunction App() {\r\n  // Auth states\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [authMode, setAuthMode] = useState('login'); // login or register\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [authError, setAuthError] = useState(null);\r\n  const [authLoading, setAuthLoading] = useState(false);\r\n\r\n  // Webcam states\r\n  const webcamRef = useRef(null);\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n  const [detectedEmotion, setDetectedEmotion] = useState(null);\r\n  const [emotionConfidence, setEmotionConfidence] = useState(null);\r\n  const [products, setProducts] = useState([]);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n  const [categories, setCategories] = useState(['All']);\r\n  const [emotionHistory, setEmotionHistory] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [userId] = useState('user_' + Math.random().toString(36).substr(2, 9));\r\n\r\n  // Pagination states\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [productsPerPage] = useState(12);\r\n\r\n  // Stats states\r\n  const [emotionStats, setEmotionStats] = useState([]);\r\n  const [showStats, setShowStats] = useState(false);\r\n\r\n  const emotionEmojis = {\r\n    happy: 'ðŸ˜Š',\r\n    sad: 'ðŸ˜¢',\r\n    angry: 'ðŸ˜ ',\r\n    neutral: 'ðŸ˜',\r\n    surprise: 'ðŸ˜²',\r\n    fear: 'ðŸ˜¨',\r\n    disgust: 'ðŸ¤¢'\r\n  };\r\n\r\n  // Check if user is logged in on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('access_token');\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n      fetchCategories();\r\n      fetchEmotionStats();\r\n    }\r\n  }, []);\r\n\r\n  // ======================== AUTHENTICATION ========================\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setAuthLoading(true);\r\n      setAuthError(null);\r\n\r\n      const response = await axios.post(`${API_URL}/auth/register`, {\r\n        email,\r\n        password,\r\n        name\r\n      });\r\n\r\n      setAuthError(null);\r\n      alert('Registration successful! Please login.');\r\n      setAuthMode('login');\r\n      setEmail('');\r\n      setPassword('');\r\n      setName('');\r\n    } catch (err) {\r\n      setAuthError(err.response?.data?.error || 'Registration failed');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setAuthLoading(true);\r\n      setAuthError(null);\r\n\r\n      const response = await axios.post(`${API_URL}/auth/login`, {\r\n        email,\r\n        password\r\n      });\r\n\r\n      localStorage.setItem('access_token', response.data.access_token);\r\n      setIsAuthenticated(true);\r\n      setEmail('');\r\n      setPassword('');\r\n      fetchCategories();\r\n      fetchEmotionStats();\r\n    } catch (err) {\r\n      setAuthError(err.response?.data?.error || 'Login failed');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('access_token');\r\n    setIsAuthenticated(false);\r\n    setDetectedEmotion(null);\r\n    setProducts([]);\r\n    setEmotionHistory([]);\r\n  };\r\n\r\n  // ======================== API CALLS ========================\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/categories`);\r\n      setCategories(response.data.categories);\r\n    } catch (err) {\r\n      console.error('Error fetching categories:', err);\r\n    }\r\n  };\r\n\r\n  const fetchEmotionStats = async () => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const response = await axios.get(`${API_URL}/emotion-stats`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setEmotionStats(response.data.stats);\r\n    } catch (err) {\r\n      console.error('Error fetching stats:', err);\r\n    }\r\n  };\r\n\r\n  const captureImage = () => {\r\n    if (!webcamRef.current) {\r\n      setError('Webcam not ready. Please allow camera access.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (!imageSrc) {\r\n        setError('Failed to capture image. Please try again.');\r\n        return;\r\n      }\r\n      setCapturedImage(imageSrc);\r\n      analyzeEmotion(imageSrc);\r\n    } catch (err) {\r\n      setError('Error capturing image: ' + err.message);\r\n    }\r\n  };\r\n\r\n  const analyzeEmotion = async (base64Image) => {\r\n    try {\r\n      setIsAnalyzing(true);\r\n      setError(null);\r\n\r\n      const token = localStorage.getItem('access_token');\r\n      const response = await axios.post(`${API_URL}/detect-emotion`, {\r\n        image: base64Image\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      const data = response.data;\r\n      setDetectedEmotion(data.emotion);\r\n      setEmotionConfidence(data.confidence);\r\n\r\n      let filteredByCategory = data.products;\r\n      if (selectedCategory !== 'All') {\r\n        filteredByCategory = data.products.filter(\r\n          (p) => p.category === selectedCategory\r\n        );\r\n      }\r\n\r\n      setProducts(filteredByCategory);\r\n      setCurrentPage(1);\r\n\r\n      setEmotionHistory([\r\n        {\r\n          emotion: data.emotion,\r\n          timestamp: new Date().toLocaleTimeString(),\r\n          confidence: data.confidence\r\n        },\r\n        ...emotionHistory\r\n      ].slice(0, 5));\r\n\r\n      fetchEmotionStats();\r\n      setIsAnalyzing(false);\r\n    } catch (err) {\r\n      console.error('Error analyzing emotion:', err);\r\n      setError(err.response?.data?.error || 'Failed to analyze emotion.');\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const handleDetectAgain = () => {\r\n    setDetectedEmotion(null);\r\n    setEmotionConfidence(null);\r\n    setCapturedImage(null);\r\n    setProducts([]);\r\n    setError(null);\r\n    setSelectedCategory('All');\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleCategoryChange = (category) => {\r\n    setSelectedCategory(category);\r\n    setCurrentPage(1);\r\n    if (detectedEmotion && products.length > 0) {\r\n      const filtered = products.filter((p) => category === 'All' || p.category === category);\r\n      setProducts(filtered);\r\n    }\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // ======================== RENDER ========================\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 md:p-8\">\r\n        <div className=\"max-w-md mx-auto\">\r\n          <div className=\"bg-white rounded-lg shadow-2xl p-8 fade-in\">\r\n            <h1 className=\"text-3xl font-bold text-center mb-2 text-gray-800\">\r\n              ðŸŽ­ Emotion Recommender\r\n            </h1>\r\n            <p className=\"text-center text-gray-600 mb-8\">\r\n              {authMode === 'login' ? 'Sign in to your account' : 'Create a new account'}\r\n            </p>\r\n\r\n            {authError && (\r\n              <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n                {authError}\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={authMode === 'login' ? handleLogin : handleRegister}>\r\n              {authMode === 'register' && (\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-gray-700 font-semibold mb-2\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\"\r\n                    placeholder=\"Your name\"\r\n                    required\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-gray-700 font-semibold mb-2\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\"\r\n                  placeholder=\"your@email.com\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-gray-700 font-semibold mb-2\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500\"\r\n                  placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={authLoading}\r\n                className=\"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50\"\r\n              >\r\n                {authLoading ? 'Loading...' : authMode === 'login' ? 'Sign In' : 'Register'}\r\n              </button>\r\n            </form>\r\n\r\n            <p className=\"text-center mt-4 text-gray-600\">\r\n              {authMode === 'login' ? \"Don't have an account?\" : 'Already have an account?'}\r\n              <button\r\n                onClick={() => setAuthMode(authMode === 'login' ? 'register' : 'login')}\r\n                className=\"ml-2 text-blue-600 font-semibold hover:underline\"\r\n              >\r\n                {authMode === 'login' ? 'Register' : 'Sign In'}\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 md:p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header with Logout */}\r\n        <div className=\"text-center mb-8 md:mb-12 fade-in flex justify-between items-center\">\r\n          <div>\r\n            <h1 className=\"text-4xl md:text-5xl font-bold text-white mb-2\">\r\n              ðŸŽ­ Emotion-Based Product Recommender\r\n            </h1>\r\n            <p className=\"text-lg md:text-xl text-white opacity-90\">\r\n              Discover products that match your current emotion\r\n            </p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <button\r\n              onClick={() => setShowStats(!showStats)}\r\n              className=\"px-4 py-2 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition\"\r\n            >\r\n              ðŸ“Š Stats\r\n            </button>\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"block px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Alert */}\r\n        {error && (\r\n          <div className=\"max-w-4xl mx-auto mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-4 rounded-lg fade-in\">\r\n            <strong>Error:</strong> {error}\r\n            <button\r\n              onClick={() => setError(null)}\r\n              className=\"float-right font-bold text-xl hover:text-red-900\"\r\n            >\r\n              Ã—\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Stats Panel */}\r\n        {showStats && (\r\n          <div className=\"max-w-4xl mx-auto mb-6 bg-white rounded-lg shadow-xl p-6 fade-in\">\r\n            <h3 className=\"text-2xl font-bold mb-4 text-gray-800\">ðŸ“Š Your Emotion Stats</h3>\r\n            {emotionStats.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {emotionStats.map((stat, idx) => (\r\n                  <div key={idx} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-lg font-bold text-gray-800 capitalize\">\r\n                          {emotionEmojis[stat._id]} {stat._id}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600\">Detected {stat.count} times</p>\r\n                      </div>\r\n                      <p className=\"text-2xl font-bold text-blue-600\">\r\n                        {(stat.avg_confidence * 100).toFixed(0)}%\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-500\">No emotion history yet. Start by analyzing your emotion!</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content */}\r\n        <div className=\"grid md:grid-cols-3 gap-6 md:gap-8\">\r\n          {/* Left Sidebar - Webcam & Emotion */}\r\n          <div className=\"md:col-span-1\">\r\n            <div className=\"bg-white rounded-lg shadow-xl p-6 fade-in\">\r\n              <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">ðŸ“· Capture Your Emotion</h2>\r\n\r\n              {!detectedEmotion ? (\r\n                <>\r\n                  <div className=\"relative bg-black rounded-lg overflow-hidden mb-4\">\r\n                    <Webcam\r\n                      ref={webcamRef}\r\n                      screenshotFormat=\"image/jpeg\"\r\n                      className=\"w-full\"\r\n                      videoConstraints={{\r\n                        width: { ideal: 640 },\r\n                        height: { ideal: 480 },\r\n                        facingMode: 'user'\r\n                      }}\r\n                    />\r\n                    <div className=\"absolute bottom-2 right-2 text-white text-xs bg-black bg-opacity-50 px-2 py-1 rounded\">\r\n                      ðŸ“¸ Live Preview\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={captureImage}\r\n                    disabled={isAnalyzing}\r\n                    className={`w-full py-3 rounded-lg font-bold text-white text-lg transition ${\r\n                      isAnalyzing\r\n                        ? 'bg-gray-400 cursor-not-allowed'\r\n                        : 'bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg'\r\n                    }`}\r\n                  >\r\n                    {isAnalyzing ? (\r\n                      <span className=\"flex justify-center items-center\">\r\n                        <span className=\"spinner mr-2\" style={{width: '20px', height: '20px'}}></span>\r\n                        Analyzing...\r\n                      </span>\r\n                    ) : (\r\n                      'ðŸŽ¯ Capture & Analyze Emotion'\r\n                    )}\r\n                  </button>\r\n\r\n                  <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-sm text-gray-700\">\r\n                    <p className=\"font-semibold mb-1\">ðŸ’¡ Tips:</p>\r\n                    <ul className=\"text-xs space-y-1\">\r\n                      <li>â€¢ Ensure good lighting</li>\r\n                      <li>â€¢ Face the camera directly</li>\r\n                      <li>â€¢ Clear facial expression</li>\r\n                    </ul>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"relative bg-gray-100 rounded-lg overflow-hidden mb-4\">\r\n                    <img src={capturedImage} alt=\"Captured\" className=\"w-full\" />\r\n                  </div>\r\n\r\n                  <div className=\"text-center mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg\">\r\n                    <div className=\"text-7xl mb-2 animate-bounce\">{emotionEmojis[detectedEmotion] || 'ðŸ˜'}</div>\r\n                    <p className=\"text-3xl font-bold text-gray-800 capitalize mb-2\">\r\n                      {detectedEmotion}\r\n                    </p>\r\n                    <div className=\"flex justify-center items-center gap-2\">\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className=\"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500\"\r\n                          style={{ width: `${emotionConfidence * 100}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"text-sm font-bold text-gray-700 w-12\">\r\n                        {(emotionConfidence * 100).toFixed(0)}%\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleDetectAgain}\r\n                    className=\"w-full py-3 rounded-lg font-bold text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition shadow-lg\"\r\n                  >\r\n                    ðŸ”„ Detect Again\r\n                  </button>\r\n                </>\r\n              )}\r\n\r\n              {/* Emotion History */}\r\n              {emotionHistory.length > 0 && (\r\n                <div className=\"bg-white rounded-lg p-6 mt-6 border-t\">\r\n                  <h3 className=\"text-xl font-bold text-gray-800 mb-4\">\r\n                    ðŸ“Š Recent Emotions\r\n                  </h3>\r\n                  <div className=\"space-y-3\">\r\n                    {emotionHistory.map((item, idx) => (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"flex justify-between items-center p-2 bg-gray-50 rounded\"\r\n                      >\r\n                        <div>\r\n                          <span className=\"text-2xl\">\r\n                            {emotionEmojis[item.emotion]}\r\n                          </span>\r\n                          <span className=\"ml-2 font-semibold text-gray-800 capitalize\">\r\n                            {item.emotion}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"text-xs text-gray-500\">{item.timestamp}</p>\r\n                          <p className=\"text-sm font-semibold text-blue-600\">\r\n                            {(item.confidence * 100).toFixed(0)}%\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Content - Products */}\r\n          <div className=\"md:col-span-2\">\r\n            <div className=\"bg-white rounded-lg shadow-xl p-6 fade-in\">\r\n              <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">\r\n                ðŸ›ï¸ Recommended Products\r\n              </h2>\r\n\r\n              {/* Category Filter */}\r\n              {detectedEmotion && (\r\n                <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n                  <label className=\"block text-sm font-bold text-gray-700 mb-3\">\r\n                    ðŸ·ï¸ Filter by Category:\r\n                  </label>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {categories.map((category) => (\r\n                      <button\r\n                        key={category}\r\n                        onClick={() => handleCategoryChange(category)}\r\n                        className={`px-4 py-2 rounded-full font-semibold transition ${\r\n                          selectedCategory === category\r\n                            ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'\r\n                            : 'bg-white text-gray-800 border border-gray-300 hover:border-blue-500'\r\n                        }`}\r\n                      >\r\n                        {category}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Products Grid */}\r\n              {products.length > 0 ? (\r\n                <>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                    {products.map((product, idx) => (\r\n                      <div\r\n                        key={product.id || idx}\r\n                        className=\"product-card bg-gray-50 rounded-lg overflow-hidden shadow hover:shadow-lg transition fade-in\"\r\n                        style={{ animationDelay: `${idx * 50}ms` }}\r\n                      >\r\n                        <div className=\"relative h-48 bg-gray-200 overflow-hidden\">\r\n                          <img\r\n                            src={product.image}\r\n                            alt={product.name}\r\n                            className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-300\"\r\n                            onError={(e) => {\r\n                              e.target.src = 'https://via.placeholder.com/400x300?text=Product+Image';\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"p-4\">\r\n                          <h3 className=\"font-bold text-gray-800 mb-2 line-clamp-2\">\r\n                            {product.name}\r\n                          </h3>\r\n                          <div className=\"flex justify-between items-start gap-2 mb-3\">\r\n                            <span className=\"text-2xl font-bold text-blue-600\">{product.price}</span>\r\n                            <span className=\"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full whitespace-nowrap\">\r\n                              {product.category}\r\n                            </span>\r\n                          </div>\r\n                          <button className=\"w-full py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-purple-600 transition\">\r\n                            Add to Cart\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  {/* Pagination */}\r\n                  <div className=\"flex justify-center items-center gap-2 mt-8\">\r\n                    {[...Array(totalPages)].map((_, idx) => (\r\n                      <button\r\n                        key={idx + 1}\r\n                        onClick={() => handlePageChange(idx + 1)}\r\n                        className={`px-3 py-2 rounded font-semibold transition ${\r\n                          currentPage === idx + 1\r\n                            ? 'bg-blue-600 text-white'\r\n                            : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        {idx + 1}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </>\r\n              ) : detectedEmotion ? (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-2xl text-gray-400\">ðŸ˜…</p>\r\n                  <p className=\"text-gray-500 text-lg\">\r\n                    No products found for the selected category. Try another category.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-16\">\r\n                  <p className=\"text-4xl mb-4\">ðŸ‘ˆ</p>\r\n                  <p className=\"text-gray-500 text-lg font-semibold\">\r\n                    Capture your emotion to see personalized recommendations\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}