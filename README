# ğŸ­ Emotion-Based Product Recommender System

A full-stack web application that detects user emotions through facial recognition and recommends personalized products based on their emotional state.

## ğŸŒŸ Features

- **Real-time Emotion Detection**: Uses DeepFace AI to analyze facial expressions from webcam
- **Smart Product Recommendations**: Recommends 56+ products based on 7 different emotions
- **Category Filtering**: Filter products by category (Fashion, Electronics, Wellness, etc.)
- **Beautiful UI**: Modern, responsive design with Tailwind CSS
- **Smooth Animations**: Enhanced user experience with smooth transitions
- **Emotion Tracking**: Remember detected emotions during session

## ğŸ˜Š Supported Emotions

- ğŸ˜Š **Happy** - Entertainment, Fashion, Sports, Electronics
- ğŸ˜¢ **Sad** - Wellness, Comfort, Self-care, Books, Home
- ğŸ˜  **Angry** - Stress-relief, Wellness, Meditation
- ğŸ˜ **Neutral** - Everyday, Productivity, General, Electronics
- ğŸ˜² **Surprise** - Unique, Gadgets, Mystery, Entertainment
- ğŸ˜¨ **Fear** - Comfort, Security, Relaxation, Wellness
- ğŸ¤¢ **Disgust** - Cleaning, Fresh, Wellness, Home

## ğŸ› ï¸ Tech Stack

| Layer | Technology |
|-------|-----------|
| **Frontend** | React.js, Tailwind CSS, Axios |
| **Backend** | Flask, Python |
| **Database** | MongoDB |
| **AI/ML** | DeepFace (Facial Emotion Detection) |
| **Deployment** | Local/Docker Ready |

## ğŸ“‹ Prerequisites

- Python 3.8+ 
- Node.js 14+
- MongoDB (local or Atlas)
- Webcam

## ğŸš€ Installation

### Backend Setup

1. **Navigate to backend folder**
```bash
cd backend
```

2. **Create virtual environment**
```bash
python -m venv venv
venv\Scripts\activate  # Windows
source venv/bin/activate  # macOS/Linux
```

3. **Install dependencies**
```bash
pip install -r requirements.txt
```

4. **Start backend server**
```bash
python app.py
```
Backend will run on `http://localhost:5000`

### Frontend Setup

1. **Navigate to frontend folder**
```bash
cd frontend
```

2. **Install dependencies**
```bash
npm install
```

3. **Start React development server**
```bash
npm start
```
Frontend will run on `http://localhost:3000`

### Database Setup

1. **Start MongoDB**
```bash
mongosh
```

2. **Seed products (optional)**
```bash
cd backend
python seed_products.py
```

## ğŸ’» Usage

1. **Open browser** â†’ `http://localhost:3000`
2. **Allow webcam access** when prompted
3. **Click "ğŸ¯ Capture & Analyze"** button
4. **Face the camera** with good lighting
5. **See your detected emotion** and recommended products
6. **Filter by category** if desired
7. **Click product** to add to cart

## ğŸ“ Project Structure

```
emotion-recommender-app/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.py                 # Main Flask application
â”‚   â”œâ”€â”€ seed_products.py       # Database seeding script
â”‚   â”œâ”€â”€ config.py              # Configuration settings
â”‚   â”œâ”€â”€ requirements.txt        # Python dependencies
â”‚   â””â”€â”€ venv/                  # Virtual environment
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js            # Main React component
â”‚   â”‚   â”œâ”€â”€ App.css           # Tailwind CSS styles
â”‚   â”‚   â””â”€â”€ index.js          # Entry point
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html        # HTML template
â”‚   â”œâ”€â”€ package.json          # Node dependencies
â”‚   â””â”€â”€ node_modules/
â”‚
â””â”€â”€ README.md                 # This file
```

## ğŸ”Œ API Endpoints

### Emotion Detection
- **POST** `/api/detect-emotion-simple` - Detect emotion from image (no auth required)
- **GET** `/api/categories` - Get all product categories
- **GET** `/api/health` - Health check

## ğŸ¨ UI Components

- **Webcam Preview** - Live feed from camera
- **Emotion Display** - Shows detected emotion with emoji and confidence
- **Product Grid** - Displays recommended products
- **Category Filter** - Filter products by type
- **Responsive Layout** - Works on desktop and tablet

## ğŸ”§ Configuration

### Backend Config (`config.py`)
```python
MONGO_URI = 'mongodb://localhost:27017/emotion_recommender'
DEBUG = True
```

### Environment Variables (.env)
```
MONGO_URI=mongodb://localhost:27017/emotion_recommender
FLASK_ENV=development
```

## ğŸ“Š Database Schema

### Users Collection
```json
{
  "_id": ObjectId,
  "email": "user@example.com",
  "name": "User Name",
  "created_at": ISODate
}
```

### Products Collection
```json
{
  "_id": ObjectId,
  "name": "Product Name",
  "price": "$99.99",
  "category": "Electronics",
  "emotion": "happy",
  "image": "url",
  "description": "Product details"
}
```

## ğŸ¯ How It Works

1. **Capture**: User captures image from webcam
2. **Analyze**: DeepFace AI analyzes facial expression
3. **Detect**: System identifies dominant emotion
4. **Match**: Backend queries MongoDB for matching products
5. **Display**: Frontend shows personalized recommendations

## ğŸš€ Deployment

### Deploy Frontend (Vercel)
```bash
npm install -g vercel
vercel
```

### Deploy Backend (Railway/Render)
1. Push code to GitHub
2. Connect to Railway or Render
3. Set environment variables
4. Deploy

### Deploy Database (MongoDB Atlas)
1. Create free cluster on MongoDB Atlas
2. Update MONGO_URI in environment
3. Connect backend to Atlas

## ğŸ› Troubleshooting

| Issue | Solution |
|-------|----------|
| Face not detected | Ensure good lighting, face visible, remove glasses |
| CORS errors | Backend CORS is configured for localhost:3000 |
| MongoDB connection failed | Ensure MongoDB is running locally or check Atlas connection |
| Port 5000 in use | `netstat -ano \| findstr :5000` (Windows) to find and kill process |
| Port 3000 in use | Change port in package.json or kill process |

## ğŸ“ˆ Performance

- **Emotion Detection**: ~1-2 seconds per image
- **Product Query**: <100ms
- **Page Load**: <2 seconds
- **Database**: Optimized indexes on emotion field

## ğŸ”’ Security

- CORS configured for development
- Input validation on all endpoints
- MongoDB injection protection via PyMongo
- Safe image handling with temporary files

## ğŸ“š Learning Resources

- [DeepFace Documentation](https://github.com/serengp/deepface)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [React Documentation](https://react.dev/)
- [MongoDB Documentation](https://docs.mongodb.com/)
- [Tailwind CSS](https://tailwindcss.com/)

## ğŸ¤ Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

## ğŸ“ Future Enhancements

- [ ] User authentication & profiles
- [ ] Shopping cart functionality
- [ ] Payment integration (Stripe)
- [ ] Product reviews & ratings
- [ ] Wishlist feature
- [ ] Email notifications
- [ ] Order history
- [ ] Mobile app version
- [ ] Real-time video analysis
- [ ] Multi-face detection

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ‘¨â€ğŸ’» Author

**Your Name**
- GitHub: [@yourusername](https://github.com/yourusername)
- Email: your.email@example.com

## ğŸ™ Acknowledgments

- DeepFace team for emotion detection model
- Flask community for backend framework
- React community for frontend framework
- Tailwind CSS for beautiful styling
- MongoDB for reliable database

## ğŸ“ Support

For support, email support@emotionrecommender.com or open an issue on GitHub.

---

**Made with â¤ï¸ by [Your Name]**

â­ If you found this helpful, please star the repository!
